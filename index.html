<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞–≥–∞–∑–∏–Ω —Ü–≤–µ—Ç–æ–≤</title>
    <script src="https://telegram.org/js/telegram-web-app.js?2"></script>
    <style>
        body {
            font-family: -apple-system, system-ui, sans-serif;
            background-color: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        .product {
            border: 1px solid var(--tg-theme-hint-color, #999999);
            border-radius: 10px;
            padding: 15px;
            margin: 10px auto;
            max-width: 300px;
        }
        button {
            background-color: var(--tg-theme-button-color, #40a7e3);
            color: var(--tg-theme-button-text-color, #ffffff);
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>üå∏ –ù–∞—à –∫–∞—Ç–∞–ª–æ–≥ —Ü–≤–µ—Ç–æ–≤</h1>
    <div id="products">
        <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å JavaScript -->
        <div class="product">
            <h3>–†–æ–∑–∞ –∫—Ä–∞—Å–Ω–∞—è</h3>
            <p>–°–≤–µ–∂–∞—è –∏ –∞—Ä–æ–º–∞—Ç–Ω–∞—è</p>
            <p><strong>350 —Ä—É–±.</strong></p>
            <button onclick="addToCart('–†–æ–∑–∞ –∫—Ä–∞—Å–Ω–∞—è', 350)">–í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
    </div>
    <hr>
    <button onclick="showCart()" style="margin-top: 20px;">üõí –ü–µ—Ä–µ–π—Ç–∏ –∫ –∫–æ—Ä–∑–∏–Ω–µ</button>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Mini Apps
        let tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞—Å–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
        tg.ready(); // –°–æ–æ–±—â–∏—Ç—å Telegram, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ

        let cart = [];

        function addToCart(name, price) {
            cart.push({name, price});
            tg.showPopup({title: '–£—Å–ø–µ—à–Ω–æ!', message: `"${name}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É.`});
        }

        function showCart() {
            if (cart.length === 0) {
                tg.showAlert('–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞.');
                return;
            }
            let total = cart.reduce((sum, item) => sum + item.price, 0);
            let message = `–í–∞—à –∑–∞–∫–∞–∑:\n` + cart.map(item => `‚Ä¢ ${item.name} - ${item.price} —Ä—É–±.`).join('\n') + `\n\nüßæ –ò—Ç–æ–≥–æ: ${total} —Ä—É–±.`;
            tg.showConfirm(message, function(ok) {
                if (ok) {
                    // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
                    tg.showAlert("–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑! –ú—ã —Å –≤–∞–º–∏ —Å–≤—è–∂–µ–º—Å—è.");
                    cart = [];
                }
            });
        }
    </script>
</body>
</html>
